<!DOCTYPE html>
<html lang="zh">
<head>
    
        
<meta charset="utf-8">
<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer-when-downgrade">

<title>YandexDisk命令行客户端 - UNIXETC</title>
<meta name="description" content="A Personal Site">

<link rel="icon" type="image/x-icon" href="https://unixetc.com/favicon.ico">
<link rel="apple-touch-icon-precomposed" href="https://unixetc.com/favicon.png">

<link rel="stylesheet" href="https://unixetc.com/css/style.css?rnd=1596070679" />



<meta property="og:title" content="YandexDisk命令行客户端" />
<meta property="og:description" content="本文介绍如何在Linux下安装并使用YandexDisk命令行客户端" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://unixetc.com/post/yandex-disk-console-client-for-linux/" />
<meta property="article:published_time" content="2020-02-29T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-02-29T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="YandexDisk命令行客户端"/>
<meta name="twitter:description" content="本文介绍如何在Linux下安装并使用YandexDisk命令行客户端"/>








    
</head>
<body>
    <a class="skip-main" href="#main">Skip to main content</a>
    <div class="container">
        <header> 
            
                <h1 class="site-header">
    <a href="/">UNIXETC</a>
</h1>
<nav>
    
    
    <a class="" href="https://unixetc.com/tags/" title="">Tags</a>
    
    <a class="" href="https://unixetc.com/readme/" title="ReadMe">Readme</a>
    
</nav>

            
        </header>
        <main id="main" tabindex="-1"> 
            

    <article class="post">
        <header>
            <h1 class="post-title">YandexDisk命令行客户端</h1>
        </header>
        <div class="content">
            <p>Linux的Yandex.Disk控制台客户端使您可以在Yandex.Disk上管理文件，而无需使用<a href="https://yandex.com/support/disk/cli-clients.html#cli-gui">窗口界面</a>或支持<a href="https://yandex.com/support/disk/webdav.html#concept3">WebDAV的程序</a>。</p>
<p>与WebDAV连接相比，使用控制台客户端的优势：</p>
<ul>
<li>Low system resource requirements.</li>
<li>Faster file reading and writing speeds.</li>
<li>Faster syncing with the Yandex.Disk server.</li>
<li>Manage files offline.</li>
</ul>
<p>控制台客户端可以安装在以下操作系统上：</p>
<ul>
<li>Ubuntu Linux 8.04 及以上版本</li>
<li>Debian 5 及以上版本</li>
<li>Fedora 9 及以上版本</li>
<li>Red Hat Enterprise Linux 6 及以上版本</li>
<li>CentOS 6 及以上版本</li>
</ul>
<h3 id="安装客户端">安装客户端</h3>
<p>要自动安装客户端，请使用命令进行快速软件包安装。</p>
<p><em>.deb软件包</em> 安装示例</p>
<pre><code>echo &quot;deb http://repo.yandex.ru/yandex-disk/deb/ stable main&quot; | sudo tee -a /etc/apt/sources.list.d/yandex-disk.list &gt; /dev/null
wget http://repo.yandex.ru/yandex-disk/YANDEX-DISK-KEY.GPG -O- | sudo apt-key add - 
sudo apt-get update
sudo apt-get install -y yandex-disk
</code></pre><p>要手动安装客户端，请从下面的相应链接下载相应版本的软件包。</p>
<table>
<thead>
<tr>
<th>包格式</th>
<th>32位</th>
<th>64位</th>
</tr>
</thead>
<tbody>
<tr>
<td>.deb (Ubuntu, Debian)</td>
<td><a href="http://repo.yandex.ru/yandex-disk/yandex-disk_latest_i386.deb">yandex-disk_latest_i386</a></td>
<td><a href="http://repo.yandex.ru/yandex-disk/yandex-disk_latest_amd64.deb">yandex-disk_latest_amd64</a></td>
</tr>
<tr>
<td>.rpm (Fedora, Red Hat Enterprise Linux, CentOS)</td>
<td><a href="http://repo.yandex.ru/yandex-disk/yandex-disk-latest.i386.rpm">yandex-disk-latest.i386</a></td>
<td><a href="http://repo.yandex.ru/yandex-disk/yandex-disk-latest.x86_64.rpm">yandex-disk-latest.x86_64</a></td>
</tr>
</tbody>
</table>
<p><strong>使用dpkg软件包管理器的安装示例</strong></p>
<pre><code># dpkg -i yandex-disk_0.1.0.103_i386.deb
</code></pre><p><strong>注意:该存储库自动安装在<code>/etc/apt/sources.list.d/yandex.list</code>中</strong></p>
<p><strong>使用rpm软件包管理器进行安装的示例</strong></p>
<pre><code># rpm -ivh yandex-disk-0.1.0.103-1.fedora.i386.rpm
</code></pre><p><strong>注意：该存储库将自动安装到<code>/etc/yum.repos.d/yandex.repo</code></strong></p>
<p>您还可以将包含yandex-disk软件包的存储库添加到可用的软件包管理器存储库列表中，并使用apt-get或yum实用程序安装该软件包。</p>
<p><strong>使用apt-get安装</strong></p>
<pre><code># echo &quot;deb http://repo.yandex.ru/yandex-disk/deb/ stable main&quot; &gt;&gt; /etc/apt/sources.list.d/yandex-disk.list
# apt-get update
# apt-get install yandex-disk
</code></pre><p><strong>使用yum安装</strong></p>
<pre><code># nano /etc/yum.repos.d/yandex.repo
# rpm --import http://repo.yandex.ru/yandex-disk/YANDEX-DISK-KEY.GPG
# yum install yandex-disk
</code></pre><p><code>yandex.repo</code>内容：</p>
<pre><code>[yandex]
name=Yandex
failovermethod=priority
baseurl=http://repo.yandex.ru/yandex-disk/rpm/stable/$basearch/
enabled=1
metadata_expire=1d
gpgcheck=1
gpgkey=http://repo.yandex.ru/yandex-disk/YANDEX-DISK-KEY.GPG
</code></pre><p>您可能需要将一个打开的GPG密钥导入系统以检查软件包的数字签名。</p>
<p><strong>为.deb包导入GPG密钥</strong></p>
<pre><code>wget -O YANDEX-DISK-KEY.GPG http://repo.yandex.ru/yandex-disk/YANDEX-DISK-KEY.GPG
sudo apt-key add YANDEX-DISK-KEY.GPG
</code></pre><p>*<strong>为.rpm包导入GPG密钥</strong></p>
<pre><code>sudo rpm --import http://repo.yandex.ru/yandex-disk/YANDEX-DISK-KEY.GPG
</code></pre><h3 id="设置向导">设置向导</h3>
<p>您可以使用<code>setup</code>命令运行客户端安装程序。</p>
<pre><code>$ yandex-disk setup
</code></pre><ol>
<li>输入存储Yandex.Disk本地副本的目录的名称。如果将名称保留为空白，则会在主目录中创建一个Yandex.Disk文件夹。</li>
<li>指示是否使用代理服务器（是/否）。</li>
<li>指示是否在启动时启动客户端（是/否）。</li>
<li>输入您的Yandex用户名。</li>
<li>输入您的Yandex密码。</li>
</ol>
<p><strong>注意：如果您使用或以前使用过两次身份验证，则需要由“Yandex.Key”移动应用程序生成的一次性密码登录到Yandex.Disk程序。</strong></p>
<p>设置向导完成后，将在<code>~/.config/yandex-disk</code>中创建<code>config.cfg</code>配置文件。</p>
<h3 id="使用客户端">使用客户端</h3>
<h4 id="命令">命令</h4>
<p>使用以下命令与客户端一起使用：</p>
<p>. <code>Token</code> 为您的Yandex用户名（USERNAME）获取授权密钥（OAuth令牌）。输入命令时，您可以输入您的Yandex密码（PASSWORD）以及令牌文件及其目录（FILE）。如果未指定其他选项，将在<code>~/.config/yandex-disk</code>中创建<code>passwd</code>文件来存储令牌。</p>
<p><code>$ yandex-disk token [-p, --password=PASSWORD] [OPTION] USERNAME [FILE]</code></p>
<p>. <code>Start</code> 启动守护程序并同步除exclude-dirs排除列表中的所有文件夹之外的所有文件夹。</p>
<p><code>$ yandex-disk start [OPTION]</code></p>
<p>. <code>Status</code> 显示守护程序的状态（同步状态，同步错误，已同步文件列表以及Yandex.Disk上的总空间和可用空间）。</p>
<p><code>$ yandex-disk status [OPTION]</code></p>
<p>. <code>Stop</code> 停止守护程序。</p>
<p><code>$ yandex-disk stop [OPTION]</code></p>
<p>. <code>Sync</code> 同步除exclude-dirs排除列表中的文件夹以外的所有文件夹。</p>
<p><code>$ yandex-disk sync [OPTION]</code></p>
<p>. <code>Publish</code> 获取指向指定文件或文件夹（FILE）的公共链接。</p>
<p><code>$ yandex-disk publish [OPTION] FILE</code></p>
<p>. <code>Unpublish</code> 取消发布指定的文件或文件夹（FILE）。</p>
<p><code>$ yandex-disk unpublish FILE</code></p>
<h4 id="其他选项option">其他选项[OPTION]</h4>
<ul>
<li>&ndash;config=FILE, -c FILE</li>
</ul>
<p>显示配置文件。默认为<code>~/.config/yandex-disk</code>下的<code>config.cfg</code>文件</p>
<ul>
<li>&ndash;dir=DIR, -d DIR</li>
</ul>
<p>输入要存储Yandex.Disk本地副本的目录。如果在初始设置过程中未输入名称，则默认情况下将使用<code>~/Yandex.Disk</code>。</p>
<ul>
<li>&ndash;auth=FILE, -a FILE</li>
</ul>
<p>输入包含授权数据的文件。默认文件是<code>passwd</code>，它是使用<code>token</code>命令或设置向导创建的，并存储在<code>~/.config/yandex-disk</code>中。</p>
<ul>
<li>&ndash;exclude-dirs=DIR1,DIR2,&hellip;</li>
</ul>
<p>不要同步指定的目录。 为了使这些设置始终适用，必须将这些目录添加到<code>config.cfg</code>文件中的<code>exclude-dirs</code>排除列表中。 为了使设置正常工作，排除目录的名称应用逗号而不是空格分隔。</p>
<ul>
<li>&ndash;read-only</li>
</ul>
<p>禁止更改Yandex.Disk服务器上的文件，并且仅同步本地副本。如果发生同步冲突，则将重命名本地文件。如果还启用了<code>--overwrite</code>设置，则将覆盖本地文件。</p>
<ul>
<li>&ndash;overwrite</li>
</ul>
<p>与服务器同步时，要覆盖对Yandex.Disk本地副本所做的更改。与<code>--read-only</code>选项一起使用。</p>
<ul>
<li>&ndash;no-daemon, -D</li>
</ul>
<p>启动守护程序而不将管理返回到控制台。要返回管理，必须通过在另一个控制台中启动命令<code>yandex-disk stop</code>或关闭当前控制台来停止守护程序。</p>
<ul>
<li>&ndash;help, -h</li>
</ul>
<p>显示帮助。</p>
<ul>
<li>&ndash;proxy=PARAM</li>
</ul>
<p>配置代理服务器。有效参数：</p>
<ol>
<li>Auto — 使用系统代理设置（默认使用）。</li>
<li>no — 不要使用代理服务器。</li>
<li>protocol,address,port,login,password — 手动设置服务器。</li>
</ol>
<h4 id="使用命令的例子">使用命令的例子</h4>
<pre><code>$ yandex-disk start -c ~/ydconfig/newconfig.cfg # launch the daemon and sync with specified configuration file 
$ yandex-disk start --exclude-dirs=Foto # do not sync folder 'Photo'
$ yandex-disk sync --read-only # sync folders in 'read-only' mode
$ yandex-disk publish Photo # get a public link to the folder 'Photo'
</code></pre><h4 id="configcfg文件的示例">&lsquo;config.cfg&rsquo;文件的示例</h4>
<pre><code># Path to file with authorization dataauth=&quot;/home/user/ydconfig/my_passwd&quot; 
# Folder for storing the local copy of Yandex.Disk.dir=&quot;/home/user/myDisk&quot;
# Do not sync specified folders.
# exclude-dirs=&quot;exclude/dir1,exclude/dir2,path/to/another/exclude/dir&quot;
# Specify proxy server. Examples:
#proxy=https,127.0.0.1,80
#proxy=https,127.0.0.1,80,login,password
#proxy=https,127.0.0.1,443
#proxy=socks4,my.proxy.local,1080,login,password
#proxy=socks5,my.another.proxy.local,1081
#proxy=auto
#proxy=no
</code></pre><h3 id="faq">FAQ</h3>
<ol>
<li>控制台客户端中有哪些Yandex.Disk功能？</li>
</ol>
<p>使用控制台客户端时，Yandex.Disk的所有主要功能都可用：同步和共享文件和文件夹，以及自定义文件夹同步。</p>
<ol start="2">
<li>自定义文件夹同步在控制台客户端中是否起作用？</li>
</ol>
<p>Yes. You can choose not to sync certain folders by entering the command (setting &ndash;exclude-dirs=DIR1,DIR2,&hellip;) or by adding them to the exclude-dirs exclusion list in config.cfg.
是。您可以通过输入命令（设置&ndash;exclude-dirs = DIR1，DIR2，&hellip;）或将其添加到config.cfg中的exclude-dirs排除列表中，选择不同步某些文件夹。</p>
<ol start="3">
<li>控制台客户端是否支持符号链接？</li>
</ol>
<p>是的，它确实。</p>
<ol start="4">
<li>控制台客户端可以用于数据复制吗？</li>
</ol>
<p>是。可以使用&ndash;read-only参数复制数据。</p>
<p><em>via <a href="https://yandex.com/support/disk/cli-clients.html">https://yandex.com/support/disk/cli-clients.html</a></em></p>

        </div>
        


<div class="post-info">
    
        <div class="post-date">2020-02-29</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://unixetc.com/categories/STUFF">STUFF</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://unixetc.com/tags/linux">#Linux</a></li>
                    
                        <li><a href="https://unixetc.com/tags/centos">#CentOS</a></li>
                    
                        <li><a href="https://unixetc.com/tags/debian">#Debian</a></li>
                    
                        <li><a href="https://unixetc.com/tags/yandexdisk">#YandexDisk</a></li>
                    
                        <li><a href="https://unixetc.com/tags/yandex">#Yandex</a></li>
                    
                        <li><a href="https://unixetc.com/tags/%E7%BD%91%E7%9B%98">#网盘</a></li>
                    
                        <li><a href="https://unixetc.com/tags/%E5%90%8C%E6%AD%A5">#同步</a></li>
                    
                </ul>
        
    </div>
</div>

    </article>

    

    


        </main>
        <footer>
            
                
                

                <p>© Alair, 2020<br>
Powered by <a target="_blank" href="https://gohugo.io/">Hugo</a>, theme <a target="_blank" href="https://github.com/mitrichius/hugo-theme-anubis">Anubis</a>.
CDN by <a href="https://dwz.cn/juw2S2At" target="_blank">Qiniu</a>,Host by <a href="https://dwz.cn/CdAD0bNi" target="_blank">BWG</a>.<script type="text/javascript" src="//js.users.51.la/20892031.js"></script>
</p>
            
        </footer>
    </div>
</body>
</html>
