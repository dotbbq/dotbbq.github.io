<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>安装archlinux on UNIXETC</title>
    <link>https://unixetc.com/tags/%E5%AE%89%E8%A3%85archlinux/</link>
    <description>UNIXETC (安装archlinux)</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Thu, 03 Jan 2013 01:03:00 +0000</lastBuildDate>
    
    <atom:link href="https://unixetc.com/tags/%E5%AE%89%E8%A3%85archlinux/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Archlinux安装笔记</title>
      <link>https://unixetc.com/post/archlinux-installation-notes/</link>
      <pubDate>Thu, 03 Jan 2013 01:03:00 +0000</pubDate>
      
      <guid>https://unixetc.com/post/archlinux-installation-notes/</guid>
      <description>&lt;p&gt;&lt;strong&gt;下载ArchLinux镜像&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;下载archlinux-2012.12.01-dual.iso，可以将其刻录到CD引导启动，或者使用dd命令将其写入到USB设备。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://mirrors.163.com/archlinux/iso/2012.12.01/archlinux-2012.12.01-dual.iso.torrent&#34;&gt;http://mirrors.163.com/archlinux/iso/2012.12.01/archlinux-2012.12.01-dual.iso.torrent&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;完成后重启电脑进入到Archlinux CD开始进行安装。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;设置网络连接&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;整个安装过程，本机需要连接互联网以下载所需文件，在此推荐使用网线连接自动获取IP，如果是这样那么当你进入到archlinux时网络已经连接成功了，可以使用ping来查看是否成功&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#ping -c 5 aotee.com
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果不是自动获取IP，可以参考以下相关命令设置网络连接：&lt;/p&gt;
&lt;p&gt;开启|关闭网络设备&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# ip link set eth0 up
# ip link set eth0 down
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;自动获取IP(DHCP)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# dhcpcd eth0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;查看状态&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# ip addr show dev eth0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果是无线网卡，请&lt;a href=&#34;https://wiki.archlinux.org/index.php/Wireless_Setup_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&#34;&gt;参考这里&lt;/a&gt;进行设置。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;设置键盘布局&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#loadkeys us
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;准备硬盘分区&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;设置硬盘分区时可以使用自己熟悉的工具进行操作，以下是我的分区方案&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/dev/sda9 /boot
/dev/sda10 swap
/dev/sda11 /
/dev/sda12 /home
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;我使用LinuxMint LiveCD的磁盘工具进行分区，分区完成后可以使用&lt;strong&gt;lsblk /dev/sda&lt;/strong&gt;来查看结果。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;格式化分区&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;参考以下命令对已有的分区进行格式化&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#mkfs -t ext2 /dev/sda9
#mkfs -t ext4 /dev/sda11
#mkfs -t ext4 /dev/sda12
#mkswap /dev/sda10
#swapon /dev/sda10
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;挂载分区&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;系统根分区(/)需要挂载至/mnt目录，如果还有其他分区还需要在/mnt下新建相应目录进行挂载&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#mount /dev/sda11 /mnt
#mkdir /mnt/{boot,home}
#mount /dev/sda9 /mnt/boot
#mount /dev/sda12 /mnt/home
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;安装基本系统&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;编辑/etc/pacman.d/mirrorlist取消掉想要使用的镜像地址前的注视符(#)刷新软件包列表：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# pacman -Syy
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;安装基本系统&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# pacstrap /mnt base base-devel
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;安装引导程序&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# pacstrap /mnt grub-bios
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;配置系统&#34;&gt;配置系统&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;生成fstab&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#genfstab -p /mnt &amp;gt;&amp;gt;/mnt/etc/fstab
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;chroot 到新系统&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#arch-chroot /mnt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;设置hostname&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#echo edge40 &amp;gt;&amp;gt;/etc/hostname
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;设置时区&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;本地化设置&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;编辑/etc/locale.conf，写入LANG=&amp;quot;zh_CN.UTF-8&amp;rdquo;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#vi /etc/locale.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;编辑/etc/locale.gen 去掉所有zh开头行的注释，然后执行以下命令使之生效&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#locale-gen
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;创建初始 ramdisk 环境&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#mkinitcpio -p linux
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;设置GRUB&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;需要搜索其它操作系统，请先用&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# pacman -S os-prober //安装 os-prober
#grub-mkconfig -o /boot/grub/grub.cfg
#grub-install --target=i386-pc --recheck /dev/sda
#cp /usr/share/locale/en@quot/LC_MESSAGES/grub.mo /boot/grub/locale/en.mo
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;退出archlinux cd完成安装&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#exit
#umount /mnt/{boot,home}
#umount /mnt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后重启系统并以 root 账号登陆。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>