<!DOCTYPE html>
<html lang="zh">
<head>
    
        
<meta charset="utf-8">
<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer-when-downgrade">

<title>SSH - UNIXETC</title>
<meta name="description" content="A Personal Site">

<link rel="alternate" type="application/rss+xml" href="https://unixetc.com/tags/ssh/index.xml" title="UNIXETC" />
<link rel="icon" type="image/x-icon" href="https://unixetc.com/favicon.ico">
<link rel="apple-touch-icon-precomposed" href="https://unixetc.com/favicon.png">

<link rel="stylesheet" href="https://unixetc.com/css/style.css?rnd=1596070681" />



<meta property="og:title" content="SSH" />
<meta property="og:description" content="A Personal Site" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://unixetc.com/tags/ssh/" />
<meta property="og:updated_time" content="2019-08-17T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="SSH"/>
<meta name="twitter:description" content="A Personal Site"/>








    
</head>
<body>
    <a class="skip-main" href="#main">Skip to main content</a>
    <div class="container">
        <header> 
            
                <h1 class="site-header">
    <a href="/">UNIXETC</a>
</h1>
<nav>
    
    
    <a class="" href="https://unixetc.com/tags/" title="">Tags</a>
    
    <a class="" href="https://unixetc.com/readme/" title="ReadMe">Readme</a>
    
</nav>

            
        </header>
        <main id="main" tabindex="-1"> 
            
    <h1>Tag: SSH</h1>
    <div class="post-info">
        <a href="https://unixetc.com/tags">To all tags</a>
    </div>
    
        <article class="post-list">
    <header>
        <h1 class="post-title"><a href="/post/raspberry-pi-zero-with-ssh-over-usb/">通过SSH Over USB管理树莓派Zero</a></h1>
    </header>

    <div class="content post-summary">
        树莓派Zero因为相对来说太小巧，没有提供初始化的网卡，所以我们除了通过串口连接以外，树莓派Zero也提供了USB直接连接的方式。即通过Ethernet Gadget模式来连接pc，并进行ssh连接。
 Ethernet Gadget模式即USB网卡模式，比较常见的就是我们通过android手机的usb接口对pc进行网络共享的一种手段。一般电脑都会自动识别这种设备，并开启网卡进行共享。
 修改配置文件 为了进行USB连接，我们需要修改BOOT文件夹下的config.txt与cmdline.txt配置文件。 首先在config.txt最末行处换行添加如下代码，打开usb网卡模式：
dtoverlay=dwc2  其次在cmdline.txt文件中找到rootwait字段，并在其后面空格添加如下信息，在打开系统时开启USB网卡模式。
modules-load=dwc2,g_ether  在boot分区新建ssh文件，以打开ssh访问功能。
touch ssh  通过usb连接设备 树莓派zero有两个MicroUSB口，一个是电源插口，职司供电的功能，另外一个就是USB接口，它除了供电以外还提供OTG的功能，我们也是通过这个接口来连接PC。 此时我们可以通过以下代码连接树莓派zero：
ssh pi@raspberrypi.local  但此时ip段为DHCP模式获取，如果我们希望通过ip来连接，则我们需要给树莓派的usb网卡设置ip。
设置USB网卡的IP 我们可以通过ifconfig -a来查看我们现在的网卡设备，此时我们可以看到，USB0网卡设备，我们就是通过该设备连接的pc，所以我们需要设置该网卡的ip。
sudo nano /etc/network/interfaces  打开网卡配置界面，在最末行添加如下代码来设置固定IP：
allow-hotplug usb0 iface usb0 inet static address 192.168.7.2 netmask 255.255.255.0 network 192.168.7.0 broadcast 192.168.7.255 gateway 192.168.7.1  然后重启usb0网卡：
sudo ifdown usb0 sudo ifup usb0 ifconfig usb0  但树莓派此时实际上是从机，我们需要通过设置pc主机的ip来让树莓派0的usb网卡真正运作起来，那么我们对刚才的usb设备设置如下IP：
 IP: 192.168.7.1 掩码: 255.255.255.0 路由: 192.168.7.1
 此时我们就可以通过ip来进行ssh连接了：
    </div>

    
    


<div class="post-info">
    
        <div class="post-date">2019-04-19</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://unixetc.com/categories/STUFF">STUFF</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://unixetc.com/tags/raspberry-pi">#Raspberry Pi</a></li>
                    
                        <li><a href="https://unixetc.com/tags/raspi">#raspi</a></li>
                    
                        <li><a href="https://unixetc.com/tags/ssh">#SSH</a></li>
                    
                        <li><a href="https://unixetc.com/tags/raspbian">#Raspbian</a></li>
                    
                        <li><a href="https://unixetc.com/tags/raspberry-pi-zero">#Raspberry Pi Zero</a></li>
                    
                        <li><a href="https://unixetc.com/tags/ssh-over-usb">#ssh over usb</a></li>
                    
                </ul>
        
    </div>
</div>

</article>
    
        <article class="post-list">
    <header>
        <h1 class="post-title"><a href="/post/merlin-install-shadowsocks/">梅林固件安装Shadowsocks</a></h1>
    </header>

    <div class="content post-summary">
        登录路由器后台，系统管理&gt;系统设置，将Enable SSH设置为LAN only。
通过SSH登录路由器，参考以下执行，在此推荐Putty。
#cd /tmp #wget https://github.com/hq450/fancyss_history_package/raw/master/fancyss_arm/shadowsocks_4.1.1.tar.gz #tar -zxvf shadowsocks_4.1.1.tar.gz #cd shadowsocks #chmod +x install.sh #./install.sh 2017年11月19日 14:40:36: 固件平台【koolshare merlinarmv7l】符合安装要求，开始安装插件！ 2017年11月19日 14:40:36: 清理旧文件 2017年11月19日 14:40:36: 开始复制文件！ 2017年11月19日 14:40:36: 复制相关二进制文件！ 2017年11月19日 14:40:42: 创建一些二进制文件的软链接！ 2017年11月19日 14:40:42: 复制ss的脚本文件！ 2017年11月19日 14:40:44: 复制网页文件！ 2017年11月19日 14:40:44: 移除安装包！ 2017年11月19日 14:40:44: 为新安装文件赋予执行权限... 2017年11月19日 14:40:44: 设置一些默认值 2017年11月19日 14:40:47: 一点点清理工作... 2017年11月19日 14:40:47: 插件安装成功，你为什么这么屌？！ 2017年11月19日 14:40:47: 更新完毕，请等待网页自动刷新！  完成后重启路由器，在软件中心中即可看到影梭已经安装成功！
    </div>

    
    


<div class="post-info">
    
        <div class="post-date">2017-11-19</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://unixetc.com/categories/STUFF">STUFF</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://unixetc.com/tags/shadowsocks">#Shadowsocks</a></li>
                    
                        <li><a href="https://unixetc.com/tags/merlin">#merlin</a></li>
                    
                        <li><a href="https://unixetc.com/tags/router">#router</a></li>
                    
                        <li><a href="https://unixetc.com/tags/%E6%A2%85%E6%9E%97">#梅林</a></li>
                    
                        <li><a href="https://unixetc.com/tags/gfw">#GFW</a></li>
                    
                        <li><a href="https://unixetc.com/tags/ssh">#SSH</a></li>
                    
                        <li><a href="https://unixetc.com/tags/asus">#asus</a></li>
                    
                </ul>
        
    </div>
</div>

</article>
    
        <article class="post-list">
    <header>
        <h1 class="post-title"><a href="/post/use-google-authenticator-set-2step-verification-strengthening-ssh-login/">使用Google Authenticator两步验证加强SSH登录</a></h1>
    </header>

    <div class="content post-summary">
        Google Authenticator开源版主页 https://github.com/google/google-authenticator
安装Google Authenticator Ubuntu已经包含libpam-google-authenticator软件(Ubuntu 11.10以上版本),可以直接使用apt-get安装
apt-get install libpam-google-authenticator  其他系统可以通过源码编译安装
git clone https://github.com/google/google-authenticator-libpam.git cd google-authenticator-libpam/ ./bootstrap.sh ./configure make make install  注意：在Debian7中执行./configure时可能存在以下错误提示
configure: error: Unable to find the PAM library or the PAM header files  在此需要安装libpam0g-dev和libtool
apt-get -y install libpam0g-dev libtool  设置Google Authenticator 在手机端搜索安装Google Authenticator
google-authenticator Do you want authentication tokens to be time-based (y/n) y  然后出现二维码，使用手机端Google Authenticator扫码,接下来服务器端继续设置
如果没有出现二维码，可以将提示的以**https://www.google.com/chart?**开头的连接复制到浏览器中，就可以看到二维码了
Do you want me to update your &quot;/root/.
    </div>

    
    


<div class="post-info">
    
        <div class="post-date">2016-01-28</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://unixetc.com/categories/STUFF">STUFF</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://unixetc.com/tags/linux">#Linux</a></li>
                    
                        <li><a href="https://unixetc.com/tags/google">#Google</a></li>
                    
                        <li><a href="https://unixetc.com/tags/vps">#VPS</a></li>
                    
                        <li><a href="https://unixetc.com/tags/ssh">#SSH</a></li>
                    
                        <li><a href="https://unixetc.com/tags/%E8%B0%B7%E6%AD%8C">#谷歌</a></li>
                    
                        <li><a href="https://unixetc.com/tags/ga">#ga</a></li>
                    
                        <li><a href="https://unixetc.com/tags/2step">#2step</a></li>
                    
                        <li><a href="https://unixetc.com/tags/libpam">#libpam</a></li>
                    
                        <li><a href="https://unixetc.com/tags/pam">#pam</a></li>
                    
                        <li><a href="https://unixetc.com/tags/%E4%B8%A4%E6%AD%A5%E9%AA%8C%E8%AF%81">#两步验证</a></li>
                    
                        <li><a href="https://unixetc.com/tags/otp">#otp</a></li>
                    
                </ul>
        
    </div>
</div>

</article>
    
    
    
        
    <div class="pagination">
        <div class="left pagination-item ">
            
                <a href="/tags/ssh/">To new posts</a>
            
        </div>
        <div class="right pagination-item ">
            
                <a href="/tags/ssh/page/3/">To old posts</a>
            
        </div>
    </div>



        </main>
        <footer>
            
                
                

                <p>© Alair, 2020<br>
Powered by <a target="_blank" href="https://gohugo.io/">Hugo</a>, theme <a target="_blank" href="https://github.com/mitrichius/hugo-theme-anubis">Anubis</a>.
CDN by <a href="https://dwz.cn/juw2S2At" target="_blank">Qiniu</a>,Host by <a href="https://dwz.cn/CdAD0bNi" target="_blank">BWG</a>.<script type="text/javascript" src="//js.users.51.la/20892031.js"></script>
</p>
            
        </footer>
    </div>
</body>
</html>
