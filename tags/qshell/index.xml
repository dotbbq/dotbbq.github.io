<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>qshell on UNIXETC</title>
    <link>https://unixetc.com/tags/qshell/</link>
    <description>UNIXETC (qshell)</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Sun, 12 Feb 2017 23:23:00 +0000</lastBuildDate>
    
    <atom:link href="https://unixetc.com/tags/qshell/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>七牛云qshell工具批量操作</title>
      <link>https://unixetc.com/post/qiniu-batch-operation/</link>
      <pubDate>Sun, 12 Feb 2017 23:23:00 +0000</pubDate>
      
      <guid>https://unixetc.com/post/qiniu-batch-operation/</guid>
      <description>&lt;p&gt;为了方便管理七牛云，官方放出了一个工具-qshell&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;qshell是利用七牛文档上公开的API实现的一个方便开发者测试和使用七牛API服务的命令行工具。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;使用qshell可以方便的进行批量操作，包括批量上传、批量下载、批量删除等等……&lt;/p&gt;
&lt;p&gt;首先，从&lt;a href=&#34;https://u18418398.pipipan.com/fs/18418398-314035000&#34;&gt;https://u18418398.pipipan.com/fs/18418398-314035000&lt;/a&gt;下载官方提供的qshell，里面包含多个平台。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;qshell_linux_386	Linux 32位系统&lt;/li&gt;
&lt;li&gt;qshell_linux_amd64	Linux 64位系统&lt;/li&gt;
&lt;li&gt;qshell_linux_arm	Linux ARM CPU&lt;/li&gt;
&lt;li&gt;qshell_windows_386.exe	Windows 32位系统&lt;/li&gt;
&lt;li&gt;qshell_windows_amd64.exe	Windows 64位系统&lt;/li&gt;
&lt;li&gt;qshell_darwin_386	Mac 32位系统，这种系统很老了&lt;/li&gt;
&lt;li&gt;qshell_darwin_amd64	Mac 64位系统，主流的系统&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;解压后，将对应的版本软件放到自定义目录&lt;/p&gt;
&lt;p&gt;在此以windows版实例操作&lt;/p&gt;
&lt;h3 id=&#34;帐号设置&#34;&gt;帐号设置&lt;/h3&gt;
&lt;p&gt;使用qshell前，需要进行帐号验证，可以通过&lt;code&gt;qshell account ak sk&lt;/code&gt;格式来进行验证，其中&lt;code&gt;ak&lt;/code&gt;和&lt;code&gt;sk&lt;/code&gt;对应个人面板-&amp;gt;密匙管理中的AccessKey/SecretKey&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;qshell account  yW!DRel0y8ERbjw%so^?X8  6pfC4OlL$TZtjpNuR4bLxRsD
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;设置完成后，可以通过&lt;code&gt;qshell account&lt;/code&gt;来查看已设置帐号详情&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;qshell account
AccessKey:yW!DRel0y8ERbjw%so^?X8
SecretKey:6pfC4OlL$TZtjpNuR4bLxRsD
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;设置完帐号后，我们就可以使用&lt;code&gt;qshell&lt;/code&gt;对帐号对应的空间进行操作&lt;/p&gt;
&lt;h3 id=&#34;列出当前帐号下所有空间&#34;&gt;列出当前帐号下所有空间&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;qshell buckets
cname
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;cname&lt;/code&gt;为空间名&lt;/p&gt;
&lt;h3 id=&#34;列出空间中所有文件&#34;&gt;列出空间中所有文件&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;qshell listbucket  cname cname.list.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;cname&lt;/code&gt;为空间名,&lt;code&gt;cname.list.txt&lt;/code&gt;为结果输出文件。&lt;/p&gt;
&lt;h3 id=&#34;批量上传&#34;&gt;批量上传&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;qshell qupload up.cfg
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;up.cfg&lt;/code&gt;上传操作配置文件，如下：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{
&amp;quot;src_dir&amp;quot; : &amp;quot;D:\\abc&amp;quot;,
&amp;quot;bucket&amp;quot; : &amp;quot;cname&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;src_dir&lt;/code&gt;为本地文件夹，Wdinwos下必须使用如上格式&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bucket&lt;/code&gt;为空间名&lt;/p&gt;
&lt;p&gt;以上配置文件意思将本地D盘下abc文件夹内的所有内容上传到名为&lt;code&gt;cname&lt;/code&gt;的空间&lt;/p&gt;
&lt;h3 id=&#34;批量下载&#34;&gt;批量下载&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;qshell qdownload  dl.cfg
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;dl.cfg&lt;/code&gt;下载操作配置文件，如下:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{
    &amp;quot;dest_dir&amp;quot;   :   &amp;quot;./dldoc&amp;quot;,
    &amp;quot;bucket&amp;quot;     :   &amp;quot;cname&amp;quot;,
    &amp;quot;prefix&amp;quot;     :   &amp;quot;&amp;quot;,
    &amp;quot;suffixes&amp;quot;   :   &amp;quot;&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;dest_dir&lt;/code&gt;为本地目录，&lt;code&gt;bucket&lt;/code&gt;为空间名，&lt;code&gt;prefix&lt;/code&gt;前缀过滤，&lt;code&gt;suffixes&lt;/code&gt;后缀过滤&lt;/p&gt;
&lt;p&gt;以上配置文件可以将&lt;code&gt;cname&lt;/code&gt;空间中的所有内容下载到当前目录下的&lt;code&gt;dldoc&lt;/code&gt;文件夹&lt;/p&gt;
&lt;p&gt;可以通过设置&lt;code&gt;prefix&lt;/code&gt;和&lt;code&gt;suffixes&lt;/code&gt;来过滤具体目录或文件类型&lt;/p&gt;
&lt;h3 id=&#34;批量删除&#34;&gt;批量删除&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;qshell listbucket cname cname.list.txt
qshell batchdelete -force cname cname.list.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;第一行获取&lt;code&gt;cname&lt;/code&gt;下所有文件，输出清单到&lt;code&gt;cname.list.txt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;第二行根据&lt;code&gt;cname.list.txt&lt;/code&gt;清单来删除&lt;code&gt;cname&lt;/code&gt;中所有内容。&lt;/p&gt;
&lt;p&gt;以上只是一些简单的操作示例，&lt;code&gt;qshell&lt;/code&gt;功能远非如此，其他具体的使用可参考官方文档&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;&lt;a href=&#34;https://developer.qiniu.com/kodo/tools/qshell&#34;&gt;https://developer.qiniu.com/kodo/tools/qshell&lt;/a&gt;&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;a href=&#34;https://github.com/qiniu/qshell&#34;&gt;https://github.com/qiniu/qshell&lt;/a&gt;&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>